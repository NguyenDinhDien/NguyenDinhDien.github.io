import{_ as U}from"./index.vue_vue_type_style_index_0_lang-8e78bb98.js";import{M as A}from"./messageDialog-908c7e4b.js";import{d as F,a as H,u as j,r as t,b as r,o,c,f as v,w as i,F as h,z as P,y as d,h as z,t as J,g as m,B as _,e as p}from"./index-fae5d1f2.js";import{D as R}from"./index-5b3c78e9.js";import{e as g}from"./successNotification.vue_vue_type_script_setup_true_lang-8de7b1c0.js";import{c as $,d as q,S as G}from"./page.constant-c4856d42.js";import"./common-98ce730a.js";import"./validators-4c406939.js";import"./userInfo.vue_vue_type_style_index_0_lang-0230a72c.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./messages.constants-493f0f9e.js";const K="/assets/Banner-f98faa2a.png",Q={class:"main-content"},W={id:"home"},X={key:0,class:"home-screen"},Y=p("div",{class:"banner"},[p("img",{src:K,alt:""})],-1),ce=F({__name:"index",setup(Z){const{t:V}=H(),S=j().getUser(),s=t([{name:"home",view:"Home"}]),a=t(0),b=t(0),I=t(""),w=t(0),k=t(""),D=t(!1);g.on("openDoChecklistTab",u=>{b.value=u.checklistId,I.value=u.userId,w.value=u.roleId,k.value=u.fullNameLead,D.value=!1,s.value.length<2?y():N()});const y=()=>{s.value.push({name:"do_checklist",view:"DoChecklist"}),a.value++},l=t(!1),N=()=>{l.value=!0};g.on("closeDialog",()=>{l.value=!1});const T=()=>{l.value=!1,g.emit("reloadDoChecklistData"),a.value++},B=()=>{s.value.length--,a.value>0&&a.value--};return(u,n)=>{const x=r("v-tab"),C=r("v-icon"),E=r("v-tabs"),M=r("v-window-item"),L=r("v-window"),O=r("v-dialog");return o(),c(h,null,[v(E,{modelValue:a.value,"onUpdate:modelValue":n[0]||(n[0]=e=>a.value=e),id:"tabbar"},{default:i(()=>[(o(!0),c(h,null,P(s.value,(e,f)=>(o(),d(x,{value:f,class:"tab-item"},{default:i(()=>[z(J(m(V)("common."+e.name)),1)]),_:2},1032,["value"]))),256)),s.value.length>1?(o(),d(C,{key:0,icon:"mdi-close",size:"x-small",onClick:B})):_("",!0)]),_:1},8,["modelValue"]),p("div",Q,[p("div",W,[v(L,{modelValue:a.value,"onUpdate:modelValue":n[1]||(n[1]=e=>a.value=e)},{default:i(()=>[(o(!0),c(h,null,P(s.value,(e,f)=>(o(),d(M,{value:f},{default:i(()=>[e.view==="Home"?(o(),c("div",X,[v(U,{userId:m(S).user_id,role:m($),objectStatus:m(q),statusMode:m(G).OPEN},null,8,["userId","role","objectStatus","statusMode"]),Y])):_("",!0),e.view==="DoChecklist"?(o(),d(R,{key:1,checklistIdProps:b.value,userIdProps:I.value,roleIdProps:w.value,fullNameLeadPros:k.value,disableInputFromParentProps:D.value},null,8,["checklistIdProps","userIdProps","roleIdProps","fullNameLeadPros","disableInputFromParentProps"])):_("",!0)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),v(O,{modelValue:l.value,"onUpdate:modelValue":n[2]||(n[2]=e=>l.value=e),width:"30%"},{default:i(()=>[l.value?(o(),d(A,{key:0,title:"confirm",message:"message_add_do_checklist_tab",typeBtn:"primary",onAgreeDialog:T})):_("",!0)]),_:1},8,["modelValue"])])])],64)}}});export{ce as default};
