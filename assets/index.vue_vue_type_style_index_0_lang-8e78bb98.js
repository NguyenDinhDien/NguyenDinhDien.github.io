import{d as E,a as w,r as h,u as I,x as M,b as g,o as T,c as B,e as r,t as l,g as a,f,w as s,N as q,h as A}from"./index-fae5d1f2.js";import{u as L,a as O}from"./page.constant-c4856d42.js";import{e as i}from"./successNotification.vue_vue_type_script_setup_true_lang-8de7b1c0.js";import{g as Y,f as F,b as R,t as V,s as z}from"./common-98ce730a.js";import{_ as H}from"./userInfo.vue_vue_type_style_index_0_lang-0230a72c.js";const U={id:"information-table"},$={class:"name-chip",id:"progress-project-chip"},X=E({__name:"index",props:{userId:{type:String,required:!0},role:{type:Number,required:!0},objectStatus:{type:Number,required:!0},screenName:{type:String,required:!1},statusMode:{type:Boolean,required:!0}},setup(d,{emit:y}){const{t:o}=w(),N=y,m=d,x=[{text:"project_name",value:"projectName",sortable:!0},{text:"team",value:"teamName",sortable:!0},{text:"project_lead",value:"fullName",sortable:!0},{text:"members",value:"members",sortable:!0},{text:"year_month",value:"yearMonth",sortable:!0},{text:"created_date",value:"updatedAt",sortable:!0},{text:"status",value:"status",sortable:!0},{text:"",value:"action"}],p=h([]),S=L(),D=I();M(async()=>{i.emit("show-loading"),k()}),D.getUser();const k=()=>{S.getHomeProject(m.userId,m.role,m.objectStatus,o).then(n=>{b(n)}).catch(n=>{console.log(n)}).finally(()=>{i.emit("hide-loading")})},b=n=>{p.value=[];const u=n.data.data;u==null||u.forEach(t=>{const c=h("");Y(t==null?void 0:t.user_file,t==null?void 0:t.gender,!0).then(e=>c.value=e),p.value.push({checklistId:t.checklist_id,projectName:t.project_name,teamName:t.team_name,yearMonth:F(t.year_month),manageId:t.manager_id,fullName:t.full_name,email:t.email,userFile:t.user_file,members:t.member_list,status:t.status,updatedAt:R(t.update_at),avatar:c})})},C=(n,u,t,c)=>{const e={checklistId:n,userId:u,roleId:O.ROLE_USER,statusDisabledProp:t,fullNameLead:c};m.screenName==="employeeScreen"?N("employeeOpenDoChecklist",e):i.emit("openDoChecklistTab",e)};return i.on("reloadProjectTab",n=>{b(n)}),(n,u)=>{const t=g("v-icon"),c=g("EasyDataTable");return T(),B("div",U,[r("div",$,[r("span",null,l(a(o)("common.in_progress_projects")),1)]),f(c,{class:"checklist-list w-full bg-white rounded-lg overflow-auto",headers:x,items:p.value,"table-class-name":"customize-table","hide-footer":"","theme-color":"#4978FB"},{"header-projectName":s(({text:e})=>[r("span",null,l(a(o)("common."+e)),1)]),"header-teamName":s(({text:e})=>[r("span",null,l(a(o)("common."+e)),1)]),"header-fullName":s(({text:e})=>[r("span",null,l(a(o)("common."+e)),1)]),"header-members":s(({text:e})=>[r("span",null,l(a(o)("common."+e)),1)]),"header-yearMonth":s(({text:e})=>[r("span",null,l(a(o)("common."+e)),1)]),"header-updatedAt":s(({text:e})=>[r("span",null,l(a(o)("common."+e)),1)]),"header-status":s(({text:e})=>[r("span",null,l(a(o)("common."+e)),1)]),"item-fullName":s(({fullName:e,email:_,avatar:v})=>[f(H,{avatar:v,userName:e.toLowerCase(),userEmail:_},null,8,["avatar","userName","userEmail"])]),"item-status":s(({status:e})=>[r("span",{style:q(a(z)(e))},l(a(o)("common."+a(V)(e))),5)]),"item-action":s(({checklistId:e,fullName:_})=>[f(t,{id:"progress-project-chevron",onClick:v=>C(e,d.userId,d.statusMode,_)},{default:s(()=>[A("mdi-chevron-right")]),_:2},1032,["onClick"])]),_:1},8,["items"])])}}});export{X as _};
